<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>M-Gacha Carnival UI</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Inter', sans-serif;
    }
    body {
      background: url('assets/background.png') no-repeat center center fixed;
      background-size: cover;
      color: #fff;
      text-align: center;
      overflow-x: hidden;
    }
    header img {
      width: 150px;
      margin: 1rem auto 0;
    }
    .banner {
      margin: 0.5rem auto 1rem;
      height: 60px;
    }
    h1 {
      font-size: 1.8rem;
      margin-bottom: 0.25rem;
    }
    .subtitle {
      font-size: 0.9rem;
      margin-bottom: 1.2rem;
    }
    .spin-count {
      margin-bottom: 1.2rem;
      font-size: 1rem;
    }
    .points-display {
      margin-bottom: 0.8rem;
      font-weight: bold;
      font-size: 1rem;
    }
    .box-container {
      display: flex;
      justify-content: center;
      gap: 1.2rem;
      margin-bottom: 1.5rem;
    }
    .box-container img {
      width: 80px;
      cursor: pointer;
      transition: transform 0.3s ease;
    }
    .box-container img:hover {
      transform: scale(1.1);
    }
    .floating-asset {
      position: fixed;
      width: 100px;
    }
    .floating-left {
      bottom: 1.5rem;
      left: 1rem;
    }
    .floating-right {
      bottom: 1.5rem;
      right: 1rem;
    }
    .prize-display {
      background: rgba(255, 255, 255, 0.9);
      color: #222;
      padding: 1rem 1.2rem;
      border-radius: 1rem;
      box-shadow: 0 0 10px #0005;
      position: fixed;
      top: 30%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 999;
      display: none;
    }
    .prize-display h2 {
      margin-bottom: 0.6rem;
    }
    .prize-display button {
      margin-top: 0.6rem;
      padding: 0.5rem 1rem;
      background: #fdb813;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    footer {
      font-size: 0.8rem;
      margin-top: 1rem;
      padding-bottom: 1rem;
    }
    .menu-button {
      position: fixed;
      top: 1rem;
      right: 1rem;
      padding: 0.5rem 1rem;
      background: #fff;
      color: #222;
      border-radius: 12px;
      font-size: 0.8rem;
      cursor: pointer;
    }
    .gift-list {
      display: none;
      position: fixed;
      right: 1rem;
      top: 3.2rem;
      background: #fff;
      color: #000;
      padding: 1rem;
      border-radius: 1rem;
      font-size: 0.8rem;
      box-shadow: 0 0 12px #0005;
      text-align: left;
    }
  </style>
</head>
<body>
  <header>
    <img src="assets/logo-mandiri.png" alt="Mandiri Logo" />
  </header>
  <img class="banner" src="assets/banner-asset.png" alt="Banner" />

  <div class="menu-button" onclick="toggleGiftList()">üéÅ Daftar Hadiah</div>
  <div class="gift-list" id="giftList">
    <ul>
      <li>+3 M-Gacha Poin</li>
      <li>i-Voucher Indomaret Rp 50.000</li>
      <li>i-Voucher Indomaret Rp 100.000</li>
      <li>Voucher Alfamart Rp 50.000</li>
      <li>Voucher Alfamart Rp 100.000</li>
      <li>Voucher Grab Rp 50.000</li>
      <li>Iphone 15 128GB</li>
      <li>Samsung Smart TV 32"</li>
      <li>Honda Vario 125 CBS ISS</li>
      <li>Logam Mulia 1gr</li>
    </ul>
  </div>

  <h1>üéâ Pilih Hadiahmu Sekarang!</h1>
  <div class="subtitle">Spin ke-<span id="spinCount">0</span> dari 10</div>
  <div class="points-display">Poin M-Gacha: <span id="points">5</span></div>

  <div class="box-container">
    <img src="assets/gift-box.png" onclick="spinBox(1)" />
    <img src="assets/gift-box.png" onclick="spinBox(2)" />
    <img src="assets/gift-box.png" onclick="spinBox(3)" />
    <img src="assets/gift-box.png" onclick="spinBox(4)" />
  </div>

  <img class="floating-asset floating-left" src="assets/mascot.png" alt="Mascot" />
  <img class="floating-asset floating-right" src="assets/carousel-asset.png" alt="Carousel" />

  <div class="prize-display" id="prizePopup">
    <h2>Selamat!</h2>
    <div id="prizeText">Kamu mendapatkan hadiah</div>
    <button onclick="closePrize()">Tutup</button>
  </div>

  <footer>¬© 2025 Bank Mandiri - M-Gacha Carnival UI</footer>

  <audio id="arcadeSound" src="assets/arcade-sound.mp3"></audio>

  <script>
    const giftList = [
      "+3 M-Gacha Poin",
      "i-Voucher Indomaret Rp 50.000",
      "i-Voucher Indomaret Rp 100.000",
      "Voucher Alfamart Rp 50.000",
      "Voucher Alfamart Rp 100.000",
      "Voucher Grab Rp 50.000",
      "Iphone 15 128GB",
      "Samsung Smart TV 32\"",
      "Honda Vario 125 CBS ISS",
      "Logam Mulia 1gr"
    ];

    const prizeProbabilities = [
      0.55, // +3 M-Gacha Poin
      0.10, 0.07, // vouchers
      0.06, 0.05, // vouchers
      0.04, // Grab
      0.03, // iPhone
      0.025, // TV
      0.01, // Motor
      0.005 // Emas
    ];

    let spins = 0;
    let points = 5;

    function spinBox(boxIndex) {
      if (spins >= 10) {
        alert("Kamu telah mencapai batas 10 spin hari ini. Silakan coba lagi besok.");
        return;
      }
      if (points < 2) {
        alert("Poin M-Gacha tidak cukup. Kamu butuh minimal 2 poin untuk spin.");
        return;
      }

      points -= 2;
      spins++;
      document.getElementById("points").innerText = points;
      document.getElementById("spinCount").innerText = spins;

      const prize = getRandomPrize();
      document.getElementById("prizeText").innerText = `Kamu mendapatkan: ${prize}`;
      document.getElementById("prizePopup").style.display = "block";
      document.getElementById("arcadeSound").play();
    }

    function getRandomPrize() {
      let r = Math.random();
      let sum = 0;
      for (let i = 0; i < prizeProbabilities.length; i++) {
        sum += prizeProbabilities[i];
        if (r <= sum) return giftList[i];
      }
      return giftList[0];
    }

    function closePrize() {
      document.getElementById("prizePopup").style.display = "none";
    }

    function toggleGiftList() {
      const el = document.getElementById("giftList");
      el.style.display = el.style.display === "block" ? "none" : "block";
    }
  </script>
</body>
</html>
