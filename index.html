<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>M-Gacha Carnival</title>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Nunito', sans-serif;
      background: linear-gradient(to bottom, #89CFF0, #4682B4);
      color: white;
      text-align: center;
      overflow-x: hidden;
    }
    .decor-top {
      background: url('https://cdn.pixabay.com/photo/2020/02/02/12/59/banner-4813684_960_720.png') repeat-x;
      height: 80px;
      background-size: contain;
    }
    .carousel-right {
      position: absolute;
      right: 0;
      bottom: 30px;
      width: 180px;
    }
    .balloon {
      position: absolute;
      animation: float 5s infinite ease-in-out;
    }
    .balloon:nth-child(1) {
      left: 20px;
      top: 60px;
      animation-delay: 0s;
    }
    .balloon:nth-child(2) {
      left: 80px;
      top: 100px;
      animation-delay: 2s;
    }
    @keyframes float {
      0% { transform: translateY(0); }
      50% { transform: translateY(-20px); }
      100% { transform: translateY(0); }
    }
    header {
      padding: 20px;
      position: relative;
    }
    .logo {
      width: 160px;
      margin: 0 auto 10px;
    }
    h1 {
      font-size: 2rem;
      margin-bottom: 10px;
    }
    .spin-count {
      margin-bottom: 15px;
      font-size: 1.2rem;
    }
    .gift-container {
      display: flex;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
      margin-top: 30px;
      position: relative;
      z-index: 1;
    }
    .gift-box {
      width: 120px;
      height: 120px;
      background: linear-gradient(to top, #ff0000, #ff9900);
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      cursor: pointer;
      transition: transform 0.3s, box-shadow 0.3s;
      animation: bounce 1s infinite alternate;
    }
    .gift-box:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 14px rgba(0,0,0,0.4);
    }
    .prize-list-btn {
      position: absolute;
      top: 25px;
      right: 25px;
      background-color: #ffffff;
      color: #002c5f;
      padding: 8px 12px;
      border-radius: 20px;
      text-decoration: none;
      font-weight: bold;
      font-size: 0.9rem;
    }
    .popup, .prize-list {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: rgba(0, 0, 0, 0.5);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 10;
    }
    .popup-content, .prize-list-content {
      background: white;
      color: #002c5f;
      padding: 30px;
      border-radius: 15px;
      text-align: center;
      width: 320px;
    }
    .popup-content button, .prize-list-content button {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 1rem;
      border: none;
      background-color: #002c5f;
      color: white;
      border-radius: 10px;
      cursor: pointer;
    }
    footer {
      margin-top: 40px;
      font-size: 0.9rem;
    }
    @keyframes bounce {
      from { transform: translateY(0); }
      to { transform: translateY(-5px); }
    }
    @media (max-width: 768px) {
      .gift-box {
        width: 42vw;
        height: 100px;
      }
    }
  </style>
</head>
<body>
  <div class="decor-top"></div>
  <img src="https://cdn.pixabay.com/photo/2016/03/31/22/47/balloon-1295236_960_720.png" class="balloon">
  <img src="https://cdn.pixabay.com/photo/2016/03/31/22/47/balloon-1295236_960_720.png" class="balloon">
  <img src="https://cdn.pixabay.com/photo/2016/04/01/10/12/fair-1299842_960_720.png" class="carousel-right">

  <audio id="click-sound" src="https://www.soundjay.com/button/sounds/button-3.mp3"></audio>
  <audio id="win-sound" src="https://www.soundjay.com/button/sounds/button-10.mp3"></audio>

  <header>
    <img src="assets/logo-mandiri.png" class="logo" alt="Logo Mandiri">
    <h1>üéâ Pilih Hadiahmu Sekarang!</h1>
    <div class="spin-count" id="spinCount">Spin ke-0 dari 10</div>
    <a href="#" class="prize-list-btn" onclick="showPrizeList()">üéÅ Daftar Hadiah</a>
  </header>

  <div class="gift-container">
    <div class="gift-box" onclick="handleSpin(1)"></div>
    <div class="gift-box" onclick="handleSpin(2)"></div>
    <div class="gift-box" onclick="handleSpin(3)"></div>
    <div class="gift-box" onclick="handleSpin(4)"></div>
  </div>

  <div class="popup" id="popup">
    <div class="popup-content">
      <h2>Selamat!</h2>
      <p id="popupMessage"></p>
      <button onclick="closePopup()">OK</button>
    </div>
  </div>

  <div class="prize-list" id="prizeList">
    <div class="prize-list-content">
      <h2>üéÅ Daftar Hadiah</h2>
      <ul style="text-align:left; padding-left: 20px;">
        <li>+3 Poin M-Gacha</li>
        <li>i-Voucher Indomaret Rp 50.000</li>
        <li>i-Voucher Indomaret Rp 100.000</li>
        <li>Voucher Alfamart Rp 50.000</li>
        <li>Voucher Alfamart Rp 100.000</li>
        <li>Voucher Grab Rp 50.000</li>
        <li>Iphone 15 128GB</li>
        <li>Samsung Smart TV 32 Inch</li>
        <li>Honda Vario 125 CBS ISS</li>
        <li>Logam Mulia 1gr</li>
      </ul>
      <button onclick="closePrizeList()">Tutup</button>
    </div>
  </div>

  <footer>
    &copy; 2025 Bank Mandiri - M-Gacha Carnival UI
  </footer>

  <script>
    let spinCount = 0;
    function handleSpin(boxNumber) {
      if (spinCount >= 10) {
        alert("Kamu sudah mencapai batas spin hari ini!");
        return;
      }
      spinCount++;
      document.getElementById("spinCount").innerText = `Spin ke-${spinCount} dari 10`;
      document.getElementById("click-sound").play();
      const prizes = ["+3 Poin M-Gacha", "i-Voucher Indomaret Rp 50.000", "i-Voucher Indomaret Rp 100.000", "Voucher Alfamart Rp 50.000", "Voucher Alfamart Rp 100.000", "Voucher Grab Rp 50.000", "Iphone 15 128GB", "Samsung Smart TV 32 Inch", "Honda Vario 125 CBS ISS", "Logam Mulia 1gr"];
      const weights = [85,3,2,2,2,2,1,1,1,1];
      let prize = weightedRandom(prizes, weights);
      setTimeout(() => {
        document.getElementById("win-sound").play();
        showPopup(prize);
      }, 400);
    }

    function weightedRandom(items, weights) {
      let total = weights.reduce((a,b) => a+b);
      let random = Math.random() * total;
      for (let i = 0; i < items.length; i++) {
        if (random < weights[i]) return items[i];
        random -= weights[i];
      }
    }

    function showPopup(text) {
      document.getElementById("popupMessage").innerText = text;
      document.getElementById("popup").style.display = "flex";
    }
    function closePopup() {
      document.getElementById("popup").style.display = "none";
    }
    function showPrizeList() {
      document.getElementById("prizeList").style.display = "flex";
    }
    function closePrizeList() {
      document.getElementById("prizeList").style.display = "none";
    }
  </script>
</body>
</html>